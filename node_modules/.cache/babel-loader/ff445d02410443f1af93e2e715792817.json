{"ast":null,"code":"import _objectSpread from\"/Users/admin/Documents/react-projects/hesmis/hesmis-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{isEmpty}from'lodash';import{authActions}from'../../actions';import initialState from'../../initialState';function auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState.auth;var actions=arguments.length>1?arguments[1]:undefined;switch(actions.type){case authActions.LOGIN_STUDENT_REQUEST:return _objectSpread(_objectSpread({},state),{},{loginError:{},loginIn:true,authUserError:{}});case authActions.LOGIN_STUDENT_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loginData:actions.data,loginError:{},loginIn:false});case authActions.LOGIN_STUDENT_ERROR:return _objectSpread(_objectSpread({},state),{},{loginError:actions.error,loginIn:false});case authActions.LOGOUT_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,loggingOut:true,logoutData:{},logoutError:{}});case authActions.LOGOUT_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loggingOut:false,false:true,logoutData:actions.data});case authActions.LOGOUT_ERROR:return _objectSpread(_objectSpread({},state),{},{loggingOut:false,false:true,logoutError:actions.error});case authActions.GET_AUTH_USER_REQUEST:return _objectSpread(_objectSpread({},state),{},{gettingAuthUser:true,authUserError:{}});case authActions.GET_AUTH_USER_SUCCESS:{var authUser=actions.data;var currentStudentProgramme={};if(!isEmpty(authUser.academic_records)){var findCurrentProgramme=authUser.academic_records.find(function(programme){return programme.is_current_programme===true;});var programme=findCurrentProgramme||authUser.academic_records[0];currentStudentProgramme=programme;}return _objectSpread(_objectSpread({},state),{},{gettingAuthUser:false,authUser:authUser,currentStudentProgramme:currentStudentProgramme});}case authActions.GET_AUTH_USER_ERROR:return _objectSpread(_objectSpread({},state),{},{gettingAuthUser:false,authUserError:actions.error});case authActions.GET_STUDENT_PROGRAMMES_REQUEST:return _objectSpread(_objectSpread({},state),{},{gettingStudentProgrammes:true,studentProgrammeError:{}});case authActions.GET_STUDENT_PROGRAMMES_SUCCESS:return _objectSpread(_objectSpread({},state),{},{gettingStudentProgrammes:false,studentProgrammes:actions.data});case authActions.GET_STUDENT_PROGRAMMES_ERROR:return _objectSpread(_objectSpread({},state),{},{gettingStudentProgrammes:false,studentProgrammeError:actions.error});case authActions.CHANGE_PASSWORD_REQUEST:return _objectSpread(_objectSpread({},state),{},{changingPassword:true,changePasswordError:{}});case authActions.CHANGE_PASSWORD_SUCCESS:return _objectSpread(_objectSpread({},state),{},{changingPassword:false,changePasswordSuccess:actions.data});case authActions.CHANGE_PASSWORD_ERROR:return _objectSpread(_objectSpread({},state),{},{changingPassword:false,changePasswordError:actions.error});case authActions.REQUEST_TOKEN_REQUEST:return _objectSpread(_objectSpread({},state),{},{requestingToken:true,requestTokenError:{},requestTokenSuccess:{}});case authActions.REQUEST_TOKEN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{requestingToken:false,requestTokenSuccess:actions.data});case authActions.REQUEST_TOKEN_ERROR:return _objectSpread(_objectSpread({},state),{},{requestingToken:false,requestTokenError:actions.error});case authActions.RESET_PASSWORD_REQUEST:return _objectSpread(_objectSpread({},state),{},{resettingPassword:true,resetPasswordError:{},resetPasswordSuccess:{}});case authActions.RESET_PASSWORD_SUCCESS:return _objectSpread(_objectSpread({},state),{},{resettingPassword:false,resetPasswordSuccess:actions.data});case authActions.RESET_PASSWORD_ERROR:return _objectSpread(_objectSpread({},state),{},{resettingPassword:false,resetPasswordError:actions.error});case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_REQUEST:return _objectSpread(_objectSpread({},state),{},{gettingAccountBalance:true,accountBalanceError:{}});case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_SUCCESS:return _objectSpread(_objectSpread({},state),{},{gettingAccountBalance:false,accountBalance:actions.data});case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_ERROR:return _objectSpread(_objectSpread({},state),{},{gettingAccountBalance:false,accountBalanceError:actions.error});case authActions.SET_AUTH_USER:return _objectSpread(_objectSpread({},state),{},{authUser:actions.user});case authActions.SET_CURRENT_STUDENT_PROGRAMME:return _objectSpread(_objectSpread({},state),{},{currentStudentProgramme:actions.currentStudentProgramme});case authActions.REMOVE_AUTH_USER:return _objectSpread(_objectSpread({},state),{},{authUser:{}});case authActions.SET_IS_AUTHENTICATED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:actions.payload});default:return state;}}export default auth;","map":{"version":3,"sources":["/Users/admin/Documents/react-projects/hesmis/hesmis-front/src/config/reducers/auth/index.js"],"names":["isEmpty","authActions","initialState","auth","state","actions","type","LOGIN_STUDENT_REQUEST","loginError","loginIn","authUserError","LOGIN_STUDENT_SUCCESS","loginData","data","LOGIN_STUDENT_ERROR","error","LOGOUT_REQUEST","loading","loggingOut","logoutData","logoutError","LOGOUT_SUCCESS","false","LOGOUT_ERROR","GET_AUTH_USER_REQUEST","gettingAuthUser","GET_AUTH_USER_SUCCESS","authUser","currentStudentProgramme","academic_records","findCurrentProgramme","find","programme","is_current_programme","GET_AUTH_USER_ERROR","GET_STUDENT_PROGRAMMES_REQUEST","gettingStudentProgrammes","studentProgrammeError","GET_STUDENT_PROGRAMMES_SUCCESS","studentProgrammes","GET_STUDENT_PROGRAMMES_ERROR","CHANGE_PASSWORD_REQUEST","changingPassword","changePasswordError","CHANGE_PASSWORD_SUCCESS","changePasswordSuccess","CHANGE_PASSWORD_ERROR","REQUEST_TOKEN_REQUEST","requestingToken","requestTokenError","requestTokenSuccess","REQUEST_TOKEN_SUCCESS","REQUEST_TOKEN_ERROR","RESET_PASSWORD_REQUEST","resettingPassword","resetPasswordError","resetPasswordSuccess","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_ERROR","GET_AUTH_USER_ACCOUNT_BALANCE_REQUEST","gettingAccountBalance","accountBalanceError","GET_AUTH_USER_ACCOUNT_BALANCE_SUCCESS","accountBalance","GET_AUTH_USER_ACCOUNT_BALANCE_ERROR","SET_AUTH_USER","user","SET_CURRENT_STUDENT_PROGRAMME","REMOVE_AUTH_USER","SET_IS_AUTHENTICATED","isAuthenticated","payload"],"mappings":"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","sourcesContent":["import { isEmpty } from 'lodash';\nimport { authActions } from '../../actions';\nimport initialState from '../../initialState';\n\nfunction auth(state = initialState.auth, actions) {\n  switch (actions.type) {\n    case authActions.LOGIN_STUDENT_REQUEST:\n      return {\n        ...state,\n        loginError: {},\n        loginIn: true,\n        authUserError: {},\n      };\n    case authActions.LOGIN_STUDENT_SUCCESS:\n      return {\n        ...state,\n        loginData: actions.data,\n        loginError: {},\n        loginIn: false,\n      };\n    case authActions.LOGIN_STUDENT_ERROR:\n      return {\n        ...state,\n        loginError: actions.error,\n        loginIn: false,\n      };\n    case authActions.LOGOUT_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        loggingOut: true,\n        logoutData: {},\n        logoutError: {},\n      };\n    case authActions.LOGOUT_SUCCESS:\n      return {\n        ...state,\n        loggingOut: false,\n        false: true,\n        logoutData: actions.data,\n      };\n    case authActions.LOGOUT_ERROR:\n      return {\n        ...state,\n        loggingOut: false,\n        false: true,\n        logoutError: actions.error,\n      };\n\n    case authActions.GET_AUTH_USER_REQUEST:\n      return {\n        ...state,\n        gettingAuthUser: true,\n        authUserError: {},\n      };\n    case authActions.GET_AUTH_USER_SUCCESS: {\n      const authUser = actions.data;\n      let currentStudentProgramme = {};\n      if (!isEmpty(authUser.academic_records)) {\n        const findCurrentProgramme = authUser.academic_records.find(\n          (programme) => programme.is_current_programme === true\n        );\n        const programme = findCurrentProgramme || authUser.academic_records[0];\n        currentStudentProgramme = programme;\n      }\n\n      return {\n        ...state,\n        gettingAuthUser: false,\n        authUser,\n        currentStudentProgramme,\n      };\n    }\n    case authActions.GET_AUTH_USER_ERROR:\n      return {\n        ...state,\n        gettingAuthUser: false,\n        authUserError: actions.error,\n      };\n\n    case authActions.GET_STUDENT_PROGRAMMES_REQUEST:\n      return {\n        ...state,\n        gettingStudentProgrammes: true,\n        studentProgrammeError: {},\n      };\n    case authActions.GET_STUDENT_PROGRAMMES_SUCCESS:\n      return {\n        ...state,\n        gettingStudentProgrammes: false,\n        studentProgrammes: actions.data,\n      };\n    case authActions.GET_STUDENT_PROGRAMMES_ERROR:\n      return {\n        ...state,\n        gettingStudentProgrammes: false,\n        studentProgrammeError: actions.error,\n      };\n\n    case authActions.CHANGE_PASSWORD_REQUEST:\n      return {\n        ...state,\n        changingPassword: true,\n        changePasswordError: {},\n      };\n\n    case authActions.CHANGE_PASSWORD_SUCCESS:\n      return {\n        ...state,\n        changingPassword: false,\n        changePasswordSuccess: actions.data,\n      };\n\n    case authActions.CHANGE_PASSWORD_ERROR:\n      return {\n        ...state,\n        changingPassword: false,\n        changePasswordError: actions.error,\n      };\n\n    case authActions.REQUEST_TOKEN_REQUEST:\n      return {\n        ...state,\n        requestingToken: true,\n        requestTokenError: {},\n        requestTokenSuccess: {},\n      };\n\n    case authActions.REQUEST_TOKEN_SUCCESS:\n      return {\n        ...state,\n        requestingToken: false,\n        requestTokenSuccess: actions.data,\n      };\n\n    case authActions.REQUEST_TOKEN_ERROR:\n      return {\n        ...state,\n        requestingToken: false,\n        requestTokenError: actions.error,\n      };\n\n    case authActions.RESET_PASSWORD_REQUEST:\n      return {\n        ...state,\n        resettingPassword: true,\n        resetPasswordError: {},\n        resetPasswordSuccess: {},\n      };\n\n    case authActions.RESET_PASSWORD_SUCCESS:\n      return {\n        ...state,\n        resettingPassword: false,\n        resetPasswordSuccess: actions.data,\n      };\n\n    case authActions.RESET_PASSWORD_ERROR:\n      return {\n        ...state,\n        resettingPassword: false,\n        resetPasswordError: actions.error,\n      };\n\n    case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_REQUEST:\n      return {\n        ...state,\n        gettingAccountBalance: true,\n        accountBalanceError: {},\n      };\n\n    case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_SUCCESS:\n      return {\n        ...state,\n        gettingAccountBalance: false,\n        accountBalance: actions.data,\n      };\n\n    case authActions.GET_AUTH_USER_ACCOUNT_BALANCE_ERROR:\n      return {\n        ...state,\n        gettingAccountBalance: false,\n        accountBalanceError: actions.error,\n      };\n\n    case authActions.SET_AUTH_USER:\n      return {\n        ...state,\n        authUser: actions.user,\n      };\n\n    case authActions.SET_CURRENT_STUDENT_PROGRAMME:\n      return {\n        ...state,\n        currentStudentProgramme: actions.currentStudentProgramme,\n      };\n\n    case authActions.REMOVE_AUTH_USER:\n      return {\n        ...state,\n        authUser: {},\n      };\n\n    case authActions.SET_IS_AUTHENTICATED:\n      return {\n        ...state,\n        isAuthenticated: actions.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Documents/react-projects/hesmis/hesmis-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{isEmpty}from'lodash';import React,{useEffect,useState}from'react';import{Accordion,Card}from'react-bootstrap';import{FaUserEdit}from'react-icons/fa';import{useDispatch,useSelector}from'react-redux';import{DataNotFound,ReloadButton}from'../../components/common';import AccordionHeader from'../../components/common/AccordionHeader';import{registrationActions}from'../../config/actions';import SingleRegistrationHistory from'./SingleRegistrationHistory';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegistrationHistory=function RegistrationHistory(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.registration;}),registrationHistories=_useSelector.registrationHistories,gettingRegistrationHistory=_useSelector.gettingRegistrationHistory;var _useSelector2=useSelector(function(state){return state.auth;}),currentStudentProgramme=_useSelector2.currentStudentProgramme;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),activeKey=_useState2[0],setActiveKey=_useState2[1];var reloadRegistrationHistory=function reloadRegistrationHistory(){dispatch(registrationActions.getRegistrationHistory(currentStudentProgramme===null||currentStudentProgramme===void 0?void 0:currentStudentProgramme.id));};useEffect(function(){if(isEmpty(registrationHistories))reloadRegistrationHistory();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"py-2  text-secondary text-sm mb-2 font600\",children:[\"MY REGISTRATION HISTORY\",/*#__PURE__*/_jsx(\"div\",{className:\"card-options\",children:/*#__PURE__*/_jsx(ReloadButton,{loading:gettingRegistrationHistory,onClick:reloadRegistrationHistory})})]}),isEmpty(registrationHistories)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DataNotFound,{message:\"You have No Registration History.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(ReloadButton,{loading:gettingRegistrationHistory,onClick:reloadRegistrationHistory})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:\"1\",activeKey:activeKey,children:registrationHistories.map(function(registrationHistory,index){return/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:index+1,className:\"mb-2\",children:[/*#__PURE__*/_jsxs(AccordionHeader,{activeKey:activeKey,eventKey:index+1,setActiveKey:setActiveKey,className:registrationHistory.is_active===false?'text-danger font600':'font600',children:[/*#__PURE__*/_jsx(FaUserEdit,{className:\"me-2\"}),\"REGISTRATION FOR \".concat(registrationHistory===null||registrationHistory===void 0?void 0:registrationHistory.registration_study_year,\", \").concat(registrationHistory.event_semester,\" - \").concat(registrationHistory.academic_year),registrationHistory.is_active===false&&/*#__PURE__*/_jsx(\"div\",{className:\"badge badge-danger text-uppercase p-1 mx-1\",children:\"De-registered\"})]}),/*#__PURE__*/_jsx(Accordion.Body,{children:/*#__PURE__*/_jsx(\"div\",{className:registrationHistory.is_active===false?'text-danger':'',children:/*#__PURE__*/_jsx(SingleRegistrationHistory,{registrationHistory:registrationHistory})})})]},registrationHistory.event_id);})})})]});};export default RegistrationHistory;","map":{"version":3,"sources":["/Users/admin/Documents/react-projects/hesmis/hesmis-front/src/containers/RegistrationHistory/index.jsx"],"names":["isEmpty","React","useEffect","useState","Accordion","Card","FaUserEdit","useDispatch","useSelector","DataNotFound","ReloadButton","AccordionHeader","registrationActions","SingleRegistrationHistory","RegistrationHistory","dispatch","state","registration","registrationHistories","gettingRegistrationHistory","auth","currentStudentProgramme","activeKey","setActiveKey","reloadRegistrationHistory","getRegistrationHistory","id","map","registrationHistory","index","is_active","registration_study_year","event_semester","academic_year","event_id"],"mappings":"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","sourcesContent":["import { isEmpty } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { Accordion, Card } from 'react-bootstrap';\nimport { FaUserEdit } from 'react-icons/fa';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { DataNotFound, ReloadButton } from '../../components/common';\nimport AccordionHeader from '../../components/common/AccordionHeader';\nimport { registrationActions } from '../../config/actions';\nimport SingleRegistrationHistory from './SingleRegistrationHistory';\n\nconst RegistrationHistory = () => {\n  const dispatch = useDispatch();\n  const { registrationHistories, gettingRegistrationHistory } = useSelector(\n    (state) => state.registration\n  );\n  const { currentStudentProgramme } = useSelector((state) => state.auth);\n  const [activeKey, setActiveKey] = useState(1);\n\n  const reloadRegistrationHistory = () => {\n    dispatch(\n      registrationActions.getRegistrationHistory(currentStudentProgramme?.id)\n    );\n  };\n\n  useEffect(() => {\n    if (isEmpty(registrationHistories)) reloadRegistrationHistory();\n  }, []);\n\n  return (\n    <>\n      <Card.Header className=\"py-2  text-secondary text-sm mb-2 font600\">\n        MY REGISTRATION HISTORY\n        <div className=\"card-options\">\n          <ReloadButton\n            loading={gettingRegistrationHistory}\n            onClick={reloadRegistrationHistory}\n          />\n        </div>\n      </Card.Header>\n      {isEmpty(registrationHistories) ? (\n        <>\n          <DataNotFound message=\"You have No Registration History.\" />\n          <div className=\"text-center\">\n            <ReloadButton\n              loading={gettingRegistrationHistory}\n              onClick={reloadRegistrationHistory}\n            />\n          </div>\n        </>\n      ) : (\n        <>\n          <Accordion defaultActiveKey=\"1\" activeKey={activeKey}>\n            {registrationHistories.map((registrationHistory, index) => (\n              <Accordion.Item\n                eventKey={index + 1}\n                className=\"mb-2\"\n                key={registrationHistory.event_id}\n              >\n                <AccordionHeader\n                  activeKey={activeKey}\n                  eventKey={index + 1}\n                  setActiveKey={setActiveKey}\n                  className={\n                    registrationHistory.is_active === false\n                      ? 'text-danger font600'\n                      : 'font600'\n                  }\n                >\n                  <FaUserEdit className=\"me-2\" />\n                  {`REGISTRATION FOR ${registrationHistory?.registration_study_year}, ${registrationHistory.event_semester} - ${registrationHistory.academic_year}`}\n                  {registrationHistory.is_active === false && (\n                    <div className=\"badge badge-danger text-uppercase p-1 mx-1\">\n                      De-registered\n                    </div>\n                  )}\n                </AccordionHeader>\n                <Accordion.Body>\n                  <div\n                    className={\n                      registrationHistory.is_active === false\n                        ? 'text-danger'\n                        : ''\n                    }\n                  >\n                    <SingleRegistrationHistory\n                      registrationHistory={registrationHistory}\n                    />\n                  </div>\n                </Accordion.Body>\n              </Accordion.Item>\n            ))}\n          </Accordion>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default RegistrationHistory;\n"]},"metadata":{},"sourceType":"module"}
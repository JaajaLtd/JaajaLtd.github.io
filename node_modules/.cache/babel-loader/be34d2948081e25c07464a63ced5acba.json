{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/react-projects/hesmis/hesmis-front/src/components/shared/MainLayout.jsx\",\n    _s = $RefreshSig$();\n\nimport { Drawer, Layout } from 'antd';\nimport { isEmpty } from 'lodash';\nimport React, { useEffect } from 'react';\nimport Helmet from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { appActions, authActions, settingActions } from '../../config/actions';\nimport MenuList from '../../config/routes/MenuList';\nimport HeaderComponent from '../../containers/Dashboard/Header';\nimport ComingSoon from '../../containers/Pages/ComingSoon';\nimport MainHeader from './MainHeader';\nimport SideBar from './SideBar';\nimport SideTitle from './SideTitle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Sider,\n  Content,\n  Footer\n} = Layout;\n\nconst MainLayout = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    selectedMenu,\n    isToggled\n  } = useSelector(state => state.setting);\n  const {\n    authUser,\n    currentStudentProgramme\n  } = useSelector(state => state.auth);\n  const {\n    institutionStructure\n  } = useSelector(state => state.app);\n  const isMobileDevice = useMediaQuery({\n    maxWidth: 767\n  });\n  useEffect(() => {\n    if (isEmpty(authUser)) {\n      dispatch(authActions.getAuthUser());\n    }\n\n    if (isEmpty(institutionStructure)) dispatch(appActions.getInstitutionStructure());\n  }, []);\n  useEffect(() => {\n    if (isEmpty(selectedMenu)) {\n      dispatch(settingActions.setSelectedMenu(MenuList.SelfEnrollment));\n    }\n  }, [selectedMenu]);\n\n  const renderSwitchStatement = () => {\n    let component = ComingSoon;\n    const findMenuKey = Object.keys(MenuList).find(menu => MenuList[menu].action === selectedMenu.action);\n\n    if (findMenuKey) {\n      component = MenuList[findMenuKey].Component;\n    }\n\n    return /*#__PURE__*/React.createElement(component);\n  };\n\n  const hideOrShowSideBar = () => {\n    dispatch(settingActions.setIsToggled(!isToggled));\n  };\n\n  const getToggleMargin = () => {\n    if (isMobileDevice) return 0;\n    return isToggled ? 0 : 260;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: selectedMenu === null || selectedMenu === void 0 ? void 0 : selectedMenu.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      style: {\n        minHeight: '100vh'\n      },\n      children: [isMobileDevice ? /*#__PURE__*/_jsxDEV(Drawer, {\n        title: /*#__PURE__*/_jsxDEV(SideTitle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 20\n        }, this),\n        placement: \"left\",\n        closable: false,\n        onClose: hideOrShowSideBar,\n        visible: isToggled,\n        getContainer: false,\n        className: \"p-0\",\n        bodyStyle: {\n          padding: 0\n        },\n        headerStyle: {\n          padding: '10px 10px'\n        },\n        style: {\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Sider, {\n        theme: \"light\",\n        breakpoint: \"md\",\n        className: \"border-end\",\n        width: 260,\n        collapsible: true,\n        reverseArrow: true,\n        collapsedWidth: 0,\n        collapsed: isToggled,\n        onCollapse: hideOrShowSideBar,\n        style: {\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white font600 p-2\",\n          children: /*#__PURE__*/_jsxDEV(SideTitle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        style: {\n          marginLeft: getToggleMargin(),\n          transition: 'all 0.2s'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MainHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: renderSwitchStatement()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          className: \"bg-white text-sm text-muted font600 py-3 border-top text-center\",\n          children: \"\\xA9 School System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, currentStudentProgramme.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainLayout, \"OHM7hPNzoGUA3fFP59jQBnem2ww=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useMediaQuery];\n});\n\n_c = MainLayout;\nexport default MainLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainLayout\");","map":{"version":3,"sources":["/Users/admin/Documents/react-projects/hesmis/hesmis-front/src/components/shared/MainLayout.jsx"],"names":["Drawer","Layout","isEmpty","React","useEffect","Helmet","useDispatch","useSelector","useMediaQuery","appActions","authActions","settingActions","MenuList","HeaderComponent","ComingSoon","MainHeader","SideBar","SideTitle","Sider","Content","Footer","MainLayout","dispatch","selectedMenu","isToggled","state","setting","authUser","currentStudentProgramme","auth","institutionStructure","app","isMobileDevice","maxWidth","getAuthUser","getInstitutionStructure","setSelectedMenu","SelfEnrollment","renderSwitchStatement","component","findMenuKey","Object","keys","find","menu","action","Component","createElement","hideOrShowSideBar","setIsToggled","getToggleMargin","title","minHeight","padding","overflow","height","position","left","marginLeft","transition","id"],"mappings":"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","sourcesContent":["import { Drawer, Layout } from 'antd';\nimport { isEmpty } from 'lodash';\nimport React, { useEffect } from 'react';\nimport Helmet from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { appActions, authActions, settingActions } from '../../config/actions';\nimport MenuList from '../../config/routes/MenuList';\nimport HeaderComponent from '../../containers/Dashboard/Header';\nimport ComingSoon from '../../containers/Pages/ComingSoon';\nimport MainHeader from './MainHeader';\nimport SideBar from './SideBar';\nimport SideTitle from './SideTitle';\n\nconst { Sider, Content, Footer } = Layout;\n\nconst MainLayout = () => {\n  const dispatch = useDispatch();\n  const { selectedMenu, isToggled } = useSelector((state) => state.setting);\n  const { authUser, currentStudentProgramme } = useSelector(\n    (state) => state.auth\n  );\n  const { institutionStructure } = useSelector((state) => state.app);\n  const isMobileDevice = useMediaQuery({ maxWidth: 767 });\n\n  useEffect(() => {\n    if (isEmpty(authUser)) {\n      dispatch(authActions.getAuthUser());\n    }\n    if (isEmpty(institutionStructure))\n      dispatch(appActions.getInstitutionStructure());\n  }, []);\n\n  useEffect(() => {\n    if (isEmpty(selectedMenu)) {\n      dispatch(settingActions.setSelectedMenu(MenuList.SelfEnrollment));\n    }\n  }, [selectedMenu]);\n\n  const renderSwitchStatement = () => {\n    let component = ComingSoon;\n    const findMenuKey = Object.keys(MenuList).find(\n      (menu) => MenuList[menu].action === selectedMenu.action\n    );\n\n    if (findMenuKey) {\n      component = MenuList[findMenuKey].Component;\n    }\n    return React.createElement(component);\n  };\n\n  const hideOrShowSideBar = () => {\n    dispatch(settingActions.setIsToggled(!isToggled));\n  };\n\n  const getToggleMargin = () => {\n    if (isMobileDevice) return 0;\n\n    return isToggled ? 0 : 260;\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>{selectedMenu?.title}</title>\n      </Helmet>\n\n      <Layout style={{ minHeight: '100vh' }} key={currentStudentProgramme.id}>\n        {isMobileDevice ? (\n          <Drawer\n            title={<SideTitle />}\n            placement=\"left\"\n            closable={false}\n            onClose={hideOrShowSideBar}\n            visible={isToggled}\n            getContainer={false}\n            className=\"p-0\"\n            bodyStyle={{ padding: 0 }}\n            headerStyle={{ padding: '10px 10px' }}\n            style={{\n              overflow: 'auto',\n              height: '100vh',\n              position: 'fixed',\n              left: 0,\n            }}\n          >\n            <SideBar />\n          </Drawer>\n        ) : (\n          <Sider\n            theme=\"light\"\n            breakpoint=\"md\"\n            className=\"border-end\"\n            width={260}\n            collapsible\n            reverseArrow\n            collapsedWidth={0}\n            collapsed={isToggled}\n            onCollapse={hideOrShowSideBar}\n            style={{\n              overflow: 'auto',\n              height: '100vh',\n              position: 'fixed',\n              left: 0,\n            }}\n          >\n            <div className=\"bg-white font600 p-2\">\n              <SideTitle />\n            </div>\n            <SideBar />\n          </Sider>\n        )}\n\n        <Layout\n          style={{\n            marginLeft: getToggleMargin(),\n            transition: 'all 0.2s',\n          }}\n        >\n          <MainHeader />\n          <Content>\n            <HeaderComponent />\n            <div className=\"p-3\">{renderSwitchStatement()}</div>\n          </Content>\n          <Footer className=\"bg-white text-sm text-muted font600 py-3 border-top text-center\">\n            &copy; School System\n          </Footer>\n        </Layout>\n      </Layout>\n    </>\n  );\n};\n\nexport default MainLayout;\n"]},"metadata":{},"sourceType":"module"}
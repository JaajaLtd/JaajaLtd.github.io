{"ast":null,"code":"import _regeneratorRuntime from\"/Users/admin/Documents/react-projects/hesmis/hesmis-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getCurrentEvents),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getEnrollmentHistory),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(enrollStudent),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(watchGetCurrentEvents),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(watchGetEnrollmentHistory),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(watchEnrollStudent);import{takeLatest,fork,put}from'redux-saga/effects';import axios from'axios';import{enrollmentActions}from'../../actions';function getCurrentEvents(actions){var response;return _regeneratorRuntime.wrap(function getCurrentEvents$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios({url:\"/student-portal/enrollment/current-events/\".concat(actions.currentStudentProgrammeId),method:'GET'});case 3:response=_context.sent;_context.next=6;return put({type:enrollmentActions.GET_CURRENT_EVENTS_SUCCESS,data:response.data,programmeId:actions.currentStudentProgrammeId});case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.next=12;return put({type:enrollmentActions.GET_CURRENT_EVENTS_ERROR,error:_context.t0.data});case 12:case\"end\":return _context.stop();}}},_marked,null,[[0,8]]);}function getEnrollmentHistory(actions){var response;return _regeneratorRuntime.wrap(function getEnrollmentHistory$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios({url:\"/student-portal/enrollment/history/\".concat(actions.currentStudentProgrammeId),method:'GET'});case 3:response=_context2.sent;_context2.next=6;return put({type:enrollmentActions.GET_ENROLLMENT_HISTORY_SUCCESS,data:response.data,programmeId:actions.currentStudentProgrammeId});case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put({type:enrollmentActions.GET_ENROLLMENT_HISTORY_SUCCESS,error:_context2.t0.data});case 12:case\"end\":return _context2.stop();}}},_marked2,null,[[0,8]]);}function enrollStudent(actions){var _actions$data,response;return _regeneratorRuntime.wrap(function enrollStudent$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({url:'/student-portal/enrollment/event/enroll',method:'POST',data:actions.data});case 3:response=_context3.sent;_context3.next=6;return put({type:enrollmentActions.ENROLL_STUDENT_SUCCESS,data:response.data});case 6:_context3.next=8;return put({type:enrollmentActions.GET_CURRENT_EVENTS_REQUEST,currentStudentProgrammeId:(_actions$data=actions.data)===null||_actions$data===void 0?void 0:_actions$data.student_programme_id});case 8:_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);_context3.next=14;return put({type:enrollmentActions.ENROLL_STUDENT_ERROR,error:_context3.t0.data});case 14:case\"end\":return _context3.stop();}}},_marked3,null,[[0,10]]);}function watchGetCurrentEvents(){return _regeneratorRuntime.wrap(function watchGetCurrentEvents$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeLatest(enrollmentActions.GET_CURRENT_EVENTS_REQUEST,getCurrentEvents);case 2:case\"end\":return _context4.stop();}}},_marked4);}function watchGetEnrollmentHistory(){return _regeneratorRuntime.wrap(function watchGetEnrollmentHistory$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeLatest(enrollmentActions.GET_ENROLLMENT_HISTORY_REQUEST,getEnrollmentHistory);case 2:case\"end\":return _context5.stop();}}},_marked5);}function watchEnrollStudent(){return _regeneratorRuntime.wrap(function watchEnrollStudent$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeLatest(enrollmentActions.ENROLL_STUDENT_REQUEST,enrollStudent);case 2:case\"end\":return _context6.stop();}}},_marked6);}var forkFunctions=[fork(watchGetCurrentEvents),fork(watchGetEnrollmentHistory),fork(watchEnrollStudent)];export default forkFunctions;","map":{"version":3,"sources":["/Users/admin/Documents/react-projects/hesmis/hesmis-front/src/config/saga/enrollment/index.js"],"names":["getCurrentEvents","getEnrollmentHistory","enrollStudent","watchGetCurrentEvents","watchGetEnrollmentHistory","watchEnrollStudent","takeLatest","fork","put","axios","enrollmentActions","actions","url","currentStudentProgrammeId","method","response","type","GET_CURRENT_EVENTS_SUCCESS","data","programmeId","GET_CURRENT_EVENTS_ERROR","error","GET_ENROLLMENT_HISTORY_SUCCESS","ENROLL_STUDENT_SUCCESS","GET_CURRENT_EVENTS_REQUEST","student_programme_id","ENROLL_STUDENT_ERROR","GET_ENROLLMENT_HISTORY_REQUEST","ENROLL_STUDENT_REQUEST","forkFunctions"],"mappings":"yNAIUA,gB,iDAmBAC,oB,iDAmBAC,a,iDAuBAC,qB,iDAOAC,yB,iDAOAC,kB,EA/EV,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,GAA3B,KAAsC,oBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,iBAAT,KAAkC,eAAlC,CAEA,QAAUV,CAAAA,gBAAV,CAA2BW,OAA3B,wKAEqB,MAAMF,CAAAA,KAAK,CAAC,CAC3BG,GAAG,qDAA+CD,OAAO,CAACE,yBAAvD,CADwB,CAE3BC,MAAM,CAAE,KAFmB,CAAD,CAAX,CAFrB,OAEUC,QAFV,+BAMI,MAAMP,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACO,0BADhB,CAERC,IAAI,CAAEH,QAAQ,CAACG,IAFP,CAGRC,WAAW,CAAER,OAAO,CAACE,yBAHb,CAAD,CAAT,CANJ,uGAYI,MAAML,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACU,wBADhB,CAERC,KAAK,CAAE,YAAMH,IAFL,CAAD,CAAT,CAZJ,oEAmBA,QAAUjB,CAAAA,oBAAV,CAA+BU,OAA/B,iLAEqB,MAAMF,CAAAA,KAAK,CAAC,CAC3BG,GAAG,8CAAwCD,OAAO,CAACE,yBAAhD,CADwB,CAE3BC,MAAM,CAAE,KAFmB,CAAD,CAAX,CAFrB,OAEUC,QAFV,iCAMI,MAAMP,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACY,8BADhB,CAERJ,IAAI,CAAEH,QAAQ,CAACG,IAFP,CAGRC,WAAW,CAAER,OAAO,CAACE,yBAHb,CAAD,CAAT,CANJ,4GAYI,MAAML,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACY,8BADhB,CAERD,KAAK,CAAE,aAAMH,IAFL,CAAD,CAAT,CAZJ,sEAmBA,QAAUhB,CAAAA,aAAV,CAAwBS,OAAxB,wLAEqB,MAAMF,CAAAA,KAAK,CAAC,CAC3BG,GAAG,CAAE,yCADsB,CAE3BE,MAAM,CAAE,MAFmB,CAG3BI,IAAI,CAAEP,OAAO,CAACO,IAHa,CAAD,CAAX,CAFrB,OAEUH,QAFV,iCAOI,MAAMP,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACa,sBADhB,CAERL,IAAI,CAAEH,QAAQ,CAACG,IAFP,CAAD,CAAT,CAPJ,wBAWI,MAAMV,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACc,0BADhB,CAERX,yBAAyB,gBAAEF,OAAO,CAACO,IAAV,wCAAE,cAAcO,oBAFjC,CAAD,CAAT,CAXJ,8GAgBI,MAAMjB,CAAAA,GAAG,CAAC,CACRQ,IAAI,CAAEN,iBAAiB,CAACgB,oBADhB,CAERL,KAAK,CAAE,aAAMH,IAFL,CAAD,CAAT,CAhBJ,uEAuBA,QAAUf,CAAAA,qBAAV,qJACE,MAAMG,CAAAA,UAAU,CACdI,iBAAiB,CAACc,0BADJ,CAEdxB,gBAFc,CAAhB,CADF,wDAOA,QAAUI,CAAAA,yBAAV,yJACE,MAAME,CAAAA,UAAU,CACdI,iBAAiB,CAACiB,8BADJ,CAEd1B,oBAFc,CAAhB,CADF,wDAOA,QAAUI,CAAAA,kBAAV,kJACE,MAAMC,CAAAA,UAAU,CAACI,iBAAiB,CAACkB,sBAAnB,CAA2C1B,aAA3C,CAAhB,CADF,wDAIA,GAAM2B,CAAAA,aAAa,CAAG,CACpBtB,IAAI,CAACJ,qBAAD,CADgB,CAEpBI,IAAI,CAACH,yBAAD,CAFgB,CAGpBG,IAAI,CAACF,kBAAD,CAHgB,CAAtB,CAMA,cAAewB,CAAAA,aAAf","sourcesContent":["import { takeLatest, fork, put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { enrollmentActions } from '../../actions';\n\nfunction* getCurrentEvents(actions) {\n  try {\n    const response = yield axios({\n      url: `/student-portal/enrollment/current-events/${actions.currentStudentProgrammeId}`,\n      method: 'GET',\n    });\n    yield put({\n      type: enrollmentActions.GET_CURRENT_EVENTS_SUCCESS,\n      data: response.data,\n      programmeId: actions.currentStudentProgrammeId,\n    });\n  } catch (error) {\n    yield put({\n      type: enrollmentActions.GET_CURRENT_EVENTS_ERROR,\n      error: error.data,\n    });\n  }\n}\n\nfunction* getEnrollmentHistory(actions) {\n  try {\n    const response = yield axios({\n      url: `/student-portal/enrollment/history/${actions.currentStudentProgrammeId}`,\n      method: 'GET',\n    });\n    yield put({\n      type: enrollmentActions.GET_ENROLLMENT_HISTORY_SUCCESS,\n      data: response.data,\n      programmeId: actions.currentStudentProgrammeId,\n    });\n  } catch (error) {\n    yield put({\n      type: enrollmentActions.GET_ENROLLMENT_HISTORY_SUCCESS,\n      error: error.data,\n    });\n  }\n}\n\nfunction* enrollStudent(actions) {\n  try {\n    const response = yield axios({\n      url: '/student-portal/enrollment/event/enroll',\n      method: 'POST',\n      data: actions.data,\n    });\n    yield put({\n      type: enrollmentActions.ENROLL_STUDENT_SUCCESS,\n      data: response.data,\n    });\n    yield put({\n      type: enrollmentActions.GET_CURRENT_EVENTS_REQUEST,\n      currentStudentProgrammeId: actions.data?.student_programme_id,\n    });\n  } catch (error) {\n    yield put({\n      type: enrollmentActions.ENROLL_STUDENT_ERROR,\n      error: error.data,\n    });\n  }\n}\n\nfunction* watchGetCurrentEvents() {\n  yield takeLatest(\n    enrollmentActions.GET_CURRENT_EVENTS_REQUEST,\n    getCurrentEvents\n  );\n}\n\nfunction* watchGetEnrollmentHistory() {\n  yield takeLatest(\n    enrollmentActions.GET_ENROLLMENT_HISTORY_REQUEST,\n    getEnrollmentHistory\n  );\n}\n\nfunction* watchEnrollStudent() {\n  yield takeLatest(enrollmentActions.ENROLL_STUDENT_REQUEST, enrollStudent);\n}\n\nconst forkFunctions = [\n  fork(watchGetCurrentEvents),\n  fork(watchGetEnrollmentHistory),\n  fork(watchEnrollStudent),\n];\n\nexport default forkFunctions;\n"]},"metadata":{},"sourceType":"module"}